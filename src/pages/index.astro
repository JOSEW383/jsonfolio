---
import Layout from "../layouts/Layout.astro";
import About from "../components/sections/About.astro";
import Projects from "../components/sections/Projects.astro";
import Header from "../components/sections/Header.astro";
import Experience from "../components/sections/Experience.astro";
import Technologies from "../components/sections/Technologies.astro";
import Footer from "../components/sections/Footer.astro";
import NavBar from "../components/sections/NavBar.astro";
import Banner from "../components/sections/Banner.astro";
import Certifications from "../components/sections/Certifications.astro";
import { getSection, getSocialmedia } from "@/utilities/cvparser.ts";

const url = process.env.URL || "http://127.0.0.1:4321";
const contact = getSection("contact");
const socialmedia = getSocialmedia();
const about = getSection("about");
const experience = getSection("experience");
const projects = getSection("projects");
const certifications = getSection("certifications");
const technologies = getSection("technologies");
---

<Layout title={contact.nickname + " CV"} description={contact.title[0]}, url={url}>
  <NavBar />
  <main>
    <Banner />
    <Header
      fullname={contact.name +" "+ contact.surname}
      title={contact.title}
      socialmedia={socialmedia}
    />
    <About text={about} />
    <Experience experience={experience} />
    <Projects projects={projects} />
    <Certifications certifications={certifications} />
    <Technologies technologies={technologies} />
  </main>
  <Footer footer={contact.footer} nickname={contact.nickname} />
</Layout>

<style>
  main {
    margin: auto;
    padding: 1rem;
    width: 800px;
    max-width: calc(100% - 2rem);
    line-height: 1.6;
  }
</style>
